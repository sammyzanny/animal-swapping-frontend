{"ast":null,"code":"var _jsxFileName = \"/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/components/UserForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { editProfile } from '../actions/items';\n\nclass UserForm extends Component {\n  constructor(props) {\n    super();\n\n    this.handleOnChange = event => {\n      const {\n        value,\n        name\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      const token = localStorage.getItem(\"token\");\n      const postObj = {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          user: {\n            bio: this.state.bio,\n            contact: this.state.contact\n          }\n        })\n      };\n      fetch(`https://animal-swapping-api.herokuapp.com/users/${this.props.currentUser.id}`, postObj).then(resp => resp.json()).then(data => {\n        if (data.error) {\n          alert(data.error);\n        } else {\n          this.props.editProfile(data);\n          this.setState({\n            name: '',\n            category: ''\n          });\n          alert(\"Item Created\");\n        }\n      });\n    };\n\n    this.state = {\n      bio: props.currentUser.bio,\n      contact: props.currentUser.contact\n    };\n  }\n\n  render() {\n    const categories = [\"Bugs\", \"Fish\", \"Fossils\", \"Accessories\", \"Bags\", \"Bottoms\", \"Dresses\", \"Headwear\", \"Shoes\", \"Socks\", \"Tops\", \"Crafting-Materials\", \"Floors\", \"Houseware\", \"Miscellaneous\", \"Rug\", \"Wall-Mounted\", \"Wallpaper\", \"Umbrellas\", \"Materials\"];\n\n    if (!this.props.currentUser) {\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 14\n        }\n      }, \"You must be logged in to edit your account\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 col-md-offset-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-horizontal\",\n      onSubmit: this.handleOnSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"bio\",\n      className: \"col-md-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, \"Bio:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"bio\",\n      value: this.state.bio,\n      onChange: this.handleOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"contact\",\n      className: \"col-md-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, \"Contact Info:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"contact\",\n      value: this.state.contact,\n      onChange: this.handleOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-md-offset-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, \"Submit Edit\")))))))));\n  }\n\n}\n\nexport default connect(state => ({\n  currentUser: state.currentUser\n}), {\n  editProfile\n})(UserForm);","map":{"version":3,"sources":["/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/components/UserForm.js"],"names":["React","Component","connect","editProfile","UserForm","constructor","props","handleOnChange","event","value","name","target","setState","handleOnSubmit","preventDefault","token","localStorage","getItem","postObj","method","headers","body","JSON","stringify","user","bio","state","contact","fetch","currentUser","id","then","resp","json","data","error","alert","category","render","categories"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { editProfile } from '../actions/items';\n\nclass UserForm extends Component {\n\n    constructor(props){\n        super()\n        this.state = {\n            bio: props.currentUser.bio,\n            contact: props.currentUser.contact\n        }\n    }\n\n  \n\n  handleOnChange = event => {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleOnSubmit = event => {\n    event.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    \n        const postObj = { \n            method: \"PATCH\",\n            headers:  {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                user: {\n                    bio: this.state.bio,\n                    contact: this.state.contact\n                }\n            })\n        }\n    fetch(`https://animal-swapping-api.herokuapp.com/users/${this.props.currentUser.id}`, postObj)\n    .then(resp => resp.json())\n    .then(data => {\n        if (data.error) {\n            alert(data.error)\n          } else {\n            this.props.editProfile(data)\n            this.setState({\n              name: '',\n              category: ''\n            });\n            alert(\"Item Created\")\n          }\n        })\n  }\n\n  render() {\n    const categories = [\"Bugs\", \"Fish\", \"Fossils\", \"Accessories\", \"Bags\", \"Bottoms\", \"Dresses\", \"Headwear\", \"Shoes\", \"Socks\", \"Tops\", \"Crafting-Materials\", \"Floors\", \"Houseware\", \"Miscellaneous\", \"Rug\", \"Wall-Mounted\", \"Wallpaper\", \"Umbrellas\", \"Materials\"] \n    if (!this.props.currentUser){\n      return <h1>You must be logged in to edit your account</h1>\n    }\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-8 col-md-offset-2\">\n                    <div className=\"panel panel-default\">\n                    <div className=\"panel-body\">\n                        <form className=\"form-horizontal\" onSubmit={this.handleOnSubmit}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"bio\" className=\"col-md-4 control-label\">Bio:</label>\n                            <div className=\"col-md-5\">\n                            <input\n                                className=\"form-control\"\n                                type=\"text\"\n                                name=\"bio\"\n                                value={this.state.bio}\n                                onChange={this.handleOnChange}\n                            />\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"contact\" className=\"col-md-4 control-label\">Contact Info:</label>\n                            <div className=\"col-md-5\">\n                            <input\n                                className=\"form-control\"\n                                type=\"text\"\n                                name=\"contact\"\n                                value={this.state.contact}\n                                onChange={this.handleOnChange}\n                            >\n                            </input>\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"col-md-6 col-md-offset-4\">\n                                <button type=\"submit\" className=\"btn btn-default\">Submit Edit</button>\n                            </div>\n                        </div>\n                        </form>\n                    </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n  }\n}\n\nexport default connect(state => ({ currentUser: state.currentUser }), { editProfile })(UserForm);"]},"metadata":{},"sourceType":"module"}