{"ast":null,"code":"var _jsxFileName = \"/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { login } from '../actions/items';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: ''\n    };\n\n    this.handleOnChange = event => {\n      const {\n        value,\n        name\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      const reqObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user: this.state\n        })\n      };\n      fetch('https://animal-swapping-api.herokuapp.com/auth', reqObj).then(response => response.json()).then(data => {\n        if (data.message) {\n          alert(data.message);\n        } else {\n          localStorage.setItem(\"token\", data.jwt);\n          this.props.login(data.user);\n          this.props.history.push('/');\n        }\n      });\n      this.setState({\n        username: '',\n        password: ''\n      });\n    };\n  }\n\n  render() {\n    if (this.props.loggedIn) {\n      this.props.history.push('/');\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 col-md-offset-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-horizontal\",\n      onSubmit: this.handleOnSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      className: \"col-md-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, \"Username:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handleOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tags\",\n      className: \"col-md-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, \"Password:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-md-offset-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    }, \"Login\")))))))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    login: user => dispatch(login(user))\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/components/Login.js"],"names":["React","Component","connect","login","Login","state","username","password","handleOnChange","event","value","name","target","setState","handleOnSubmit","preventDefault","reqObj","method","headers","body","JSON","stringify","user","fetch","then","response","json","data","message","alert","localStorage","setItem","jwt","props","history","push","render","loggedIn","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,QAAsB,kBAAtB;;AAEA,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAAA;AAAA;AAAA,SAE5BI,KAF4B,GAEpB;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,QAAQ,EAAE;AAFJ,KAFoB;;AAAA,SAO5BC,cAP4B,GAOXC,KAAK,IAAI;AACxB,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAkBF,KAAK,CAACG,MAA9B;AACA,WAAKC,QAAL,CAAc;AACZ,SAACF,IAAD,GAAQD;AADI,OAAd;AAGD,KAZ2B;;AAAA,SAc5BI,cAd4B,GAcXL,KAAK,IAAI;AACxBA,MAAAA,KAAK,CAACM,cAAN;AACA,YAAMC,MAAM,GAAG;AACXC,QAAAA,MAAM,EAAE,MADG;AAEXC,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB,SAFE;AAGXC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,UAAAA,IAAI,EAAE,KAAKjB;AADM,SAAf;AAHK,OAAf;AAOAkB,MAAAA,KAAK,CAAC,gDAAD,EAAmDP,MAAnD,CAAL,CACKQ,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAK;AACX,YAAIA,IAAI,CAACC,OAAT,EAAkB;AACdC,UAAAA,KAAK,CAACF,IAAI,CAACC,OAAN,CAAL;AACD,SAFH,MAES;AACHE,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,GAAnC;AACF,eAAKC,KAAL,CAAW9B,KAAX,CAAiBwB,IAAI,CAACL,IAAtB;AACA,eAAKW,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;AAEN,OAXL;AAYA,WAAKtB,QAAL,CAAc;AACZP,QAAAA,QAAQ,EAAE,EADE;AAEZC,QAAAA,QAAQ,EAAE;AAFE,OAAd;AAID,KAvC2B;AAAA;;AAyC5B6B,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKH,KAAL,CAAWI,QAAf,EAAwB;AACtB,WAAKJ,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;;AACD,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAkC,MAAA,QAAQ,EAAE,KAAKrB,cAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,OAAO,EAAC,UAAf;AAA0B,MAAA,SAAS,EAAC,wBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWC,QAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKE,cAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CADF,eAcE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,OAAO,EAAC,MAAf;AAAsB,MAAA,SAAS,EAAC,wBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,SAAS,EAAC,cAFZ;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,QAJpB;AAKE,MAAA,QAAQ,EAAE,KAAKC,cALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CAdF,eA0BE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,CA1BF,CADF,CADF,CADF,CADF,CADF,CADF;AA4CD;;AAzF2B;;AA4F9B,SAAS8B,kBAAT,CAA4BC,QAA5B,EAAqC;AACjC,SAAO;AAACpC,IAAAA,KAAK,EAAGmB,IAAD,IAAUiB,QAAQ,CAACpC,KAAK,CAACmB,IAAD,CAAN;AAA1B,GAAP;AACH;;AAKC,eAAepB,OAAO,CAAC,IAAD,EAAOoC,kBAAP,CAAP,CAAkClC,KAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { login } from '../actions/items';\n\nclass Login extends Component {\n\n  state = {\n    username: '',\n    password: ''\n  }\n\n  handleOnChange = event => {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleOnSubmit = event => {\n    event.preventDefault();\n    const reqObj = {\n        method: \"POST\",\n        headers: {\"Content-Type\": \"application/json\"},\n        body: JSON.stringify({\n            user: this.state\n        })\n    }\n    fetch('https://animal-swapping-api.herokuapp.com/auth', reqObj)\n        .then(response => response.json())\n        .then(data =>  {\n            if (data.message) {\n                alert(data.message)\n              } else {\n                  localStorage.setItem(\"token\", data.jwt)\n                this.props.login(data.user)\n                this.props.history.push('/')\n              }\n            \n        });\n    this.setState({\n      username: '',\n      password: ''\n    });\n  }\n\n  render() {\n    if (this.props.loggedIn){\n      this.props.history.push('/')\n    }\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-8 col-md-offset-2\">\n            <div className=\"panel panel-default\">\n              <div className=\"panel-body\">\n                <form className=\"form-horizontal\" onSubmit={this.handleOnSubmit}>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"username\" className=\"col-md-4 control-label\">Username:</label>\n                    <div className=\"col-md-5\">\n                      <input\n                        className=\"form-control\"\n                        name=\"username\"\n                        value={this.state.username}\n                        onChange={this.handleOnChange}\n                      />\n                    </div>\n                  </div>\n                  \n                    \n                  <div className=\"form-group\">\n                    <label htmlFor=\"tags\" className=\"col-md-4 control-label\">Password:</label>\n                    <div className=\"col-md-5\">\n                      <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        name=\"password\"\n                        value={this.state.password}\n                        onChange={this.handleOnChange}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group\">\n                    <div className=\"col-md-6 col-md-offset-4\">\n                      <button type=\"submit\" className=\"btn btn-default\">Login</button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {login: (user) => dispatch(login(user))}\n}\n  \n \n  \n  \n  export default connect(null, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}