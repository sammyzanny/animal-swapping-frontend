{"ast":null,"code":"var _jsxFileName = \"/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/containers/UserSearch.js\";\nimport React, { Component } from 'react';\nimport UserCard from '../components/UserCard';\nimport photo from '../button.png';\n\nclass UserSearch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      page: 1,\n      users: [],\n      storedUsers: []\n    };\n\n    this.pageForward = () => {\n      const {\n        users,\n        page\n      } = this.state;\n      const pageMax = Math.ceil(users.length / 20);\n\n      if (page < pageMax) {\n        this.setState(prevState => {\n          return {\n            page: prevState.page + 1,\n            users: prevState.users,\n            storedUsers: prevState.storedUsers\n          };\n        });\n      }\n    };\n\n    this.pageBackward = () => {\n      if (this.state.page > 1) {\n        this.setState(prevState => {\n          return {\n            page: prevState.page - 1,\n            users: prevState.users,\n            storedUsers: prevState.storedUsers\n          };\n        });\n      }\n    };\n\n    this.cards = () => {\n      const {\n        users,\n        page\n      } = this.state;\n      const start = (page - 1) * 20,\n            finish = page * 20;\n      return users.slice(start, finish).map(user => {\n        return /*#__PURE__*/React.createElement(UserCard, {\n          user: user,\n          history: this.props.history,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }\n        });\n      });\n    };\n\n    this.mutualFilter = () => {\n      const newUsers = this.state.users.filter(user => {\n        return user.wishlist.some(wish => {\n          return this.props.currentUser.inventory.some(sale => {\n            return sale.id === wish.id;\n          });\n        });\n      });\n      this.setState(prevState => {\n        return {\n          page: prevState.page,\n          users: newUsers,\n          storedUsers: prevState.storedUsers\n        };\n      });\n    };\n\n    this.unfilter = () => {\n      this.setState(prevState => {\n        return {\n          page: prevState.page,\n          users: prevState.storedUsers,\n          storedUsers: prevState.storedUsers\n        };\n      });\n    };\n\n    this.handleFilter = event => {\n      if (event.target.checked) {\n        this.mutualFilter();\n      } else {\n        this.unfilter();\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      itemname,\n      username\n    } = this.props.match.params;\n\n    if (itemname) {\n      fetch(`https://animal-swapping-api.herokuapp.com/users/with/${itemname}`).then(resp => resp.json()).then(users => {\n        this.setState(prevState => {\n          return {\n            page: prevState.page,\n            users: users,\n            storedUsers: users\n          };\n        });\n      });\n    } else if (username) {\n      fetch(`https://animal-swapping-api.herokuapp.com/users/named/${username}`).then(resp => resp.json()).then(users => {\n        this.setState(prevState => {\n          return {\n            page: prevState.page,\n            users: users,\n            storedUsers: users\n          };\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, \"Users\")), this.props.currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        backgroundColor: \"grey\",\n        color: \"white\",\n        margin: \"10px\",\n        borderRadius: \"25px\",\n        padding: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 40\n      }\n    }, \"Mutual Trade\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      onChange: this.handleFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 172\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    }, this.cards())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"image\",\n      src: photo,\n      onClick: this.purchaseBackward,\n      style: {\n        transform: \"scaleX(-1)\",\n        marginRight: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"image\",\n      src: photo,\n      onClick: this.purchaseForward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 132\n      }\n    })));\n  }\n\n}\n\nexport default UserSearch;","map":{"version":3,"sources":["/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/containers/UserSearch.js"],"names":["React","Component","UserCard","photo","UserSearch","state","page","users","storedUsers","pageForward","pageMax","Math","ceil","length","setState","prevState","pageBackward","cards","start","finish","slice","map","user","props","history","mutualFilter","newUsers","filter","wishlist","some","wish","currentUser","inventory","sale","id","unfilter","handleFilter","event","target","checked","componentDidMount","itemname","username","match","params","fetch","then","resp","json","render","backgroundColor","color","margin","borderRadius","padding","purchaseBackward","transform","marginRight","purchaseForward"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport UserCard from '../components/UserCard';\nimport photo from '../button.png'\n\nclass UserSearch extends Component {\n  state = {\n    page: 1,\n    users: [],\n    storedUsers: []\n  }\n  \n  componentDidMount(){\n    const {itemname, username} = this.props.match.params\n    if(itemname){\n      fetch(`https://animal-swapping-api.herokuapp.com/users/with/${itemname}`)\n      .then(resp => resp.json())\n      .then(users => {\n        this.setState(prevState => {\n          return {\n            page: prevState.page,\n            users: users,\n            storedUsers: users\n          }\n        })\n      })\n    } else if (username){\n      fetch(`https://animal-swapping-api.herokuapp.com/users/named/${username}`)\n      .then(resp => resp.json())\n      .then(users => {\n        this.setState(prevState => {\n          return {\n            page: prevState.page,\n            users: users,\n            storedUsers: users\n          }\n        })\n      })\n    }\n  }\n  \n  pageForward = () => {\n    const { users, page } = this.state;\n   \n    \n    const pageMax = Math.ceil(users.length/20)\n    if(page < pageMax){\n      this.setState(prevState => {\n        return {\n          page: prevState.page + 1,\n          users: prevState.users,\n          storedUsers: prevState.storedUsers\n        }\n      })\n    }\n  }\n\n  pageBackward = () => {\n    if(this.state.page > 1){\n      this.setState(prevState => {\n        return {\n          page: prevState.page - 1,\n          users: prevState.users,\n          storedUsers: prevState.storedUsers\n        }\n      })\n    }\n  }\n  \n  cards = () => { \n    const { users, page } = this.state;\n    const start = (page-1)*20, finish = page*20; \n    return users.slice(start, finish).map((user) => {\n     return <UserCard user={user} history={this.props.history} />\n    })\n  }\n\n  mutualFilter = () => {\n    const newUsers = this.state.users.filter(user => {\n     return user.wishlist.some(wish => {\n        return this.props.currentUser.inventory.some(sale => {\n          return sale.id === wish.id\n        })\n      })\n    })\n    this.setState(prevState => {\n      return {\n        page: prevState.page,\n        users: newUsers,\n        storedUsers: prevState.storedUsers\n      }\n    })\n  }\n\n  unfilter = () => {\n    this.setState(prevState => {\n      return {\n        page: prevState.page,\n        users: prevState.storedUsers,\n        storedUsers: prevState.storedUsers\n      }\n    })\n  }\n\n  handleFilter = (event) => {\n    if(event.target.checked){\n      this.mutualFilter()\n    } else {\n      this.unfilter()\n    }\n  }\n      \n  \n\n  \n\n  render() {\n\n    return (\n      <div>\n        <hr />\n        <div className=\"row justify-content-center\">\n          <h2>Users</h2>\n        </div>\n        {this.props.currentUser ? <div><label style={{backgroundColor: \"grey\", color: \"white\", margin: \"10px\", borderRadius: \"25px\", padding: \"10px\"}}>Mutual Trade</label><input type=\"checkbox\" onChange={this.handleFilter} /></div> : null }\n        <hr />\n        <div className=\"container\">\n          <div className=\"row\">\n              {this.cards()}\n            \n          </div>\n        </div>\n        <div className=\"page-buttons\">\n           <input type=\"image\" src={photo} onClick={this.purchaseBackward} style={{transform: \"scaleX(-1)\", marginRight: \"50px\"}}/><input type=\"image\" src={photo} onClick={this.purchaseForward} />\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default UserSearch;"]},"metadata":{},"sourceType":"module"}