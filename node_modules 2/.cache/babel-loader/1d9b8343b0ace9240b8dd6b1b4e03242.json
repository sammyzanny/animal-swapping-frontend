{"ast":null,"code":"var _jsxFileName = \"/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/components/RequestCard.js\";\nimport React from 'react';\n\nclass RequestCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.respond = response => {\n      const {\n        request\n      } = this.props;\n      const token = localStorage.getItem(\"token\");\n      const reqObj = {\n        method: \"PATCH\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          status: response,\n          otherUserId: request.otherUser.id,\n          itemId: request.item.id\n        })\n      };\n      fetch(`https://animal-swapping-api.herokuapp.com/requests/${request.id}`, reqObj).then(response => response.json()).then(data => {\n        if (data.error) {\n          alert(data.error);\n        } else if (response === \"accepted\") {\n          this.props.acceptTrade(request);\n        } else if (response === \"declined\") {\n          this.props.declineTrade(request.id);\n        }\n      });\n    };\n  }\n\n  render() {\n    const {\n      request,\n      type,\n      history\n    } = this.props;\n    const status = type.split(\"-\")[0];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: \"10px\",\n        marginRight: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-inverse card-success card-primary mb-3 text-center\",\n      style: {\n        backgroundColor: 'grey',\n        width: '332px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"blockquote\", {\n      className: \"card-blockItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, request.item.name), /*#__PURE__*/React.createElement(\"img\", {\n      src: request.item.img,\n      alt: \"https://steamuserimages-a.akamaihd.net/ugc/901148415702899948/766B8EF2FEF58C28F33B79D61AB9F1F39F63C95D/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      onClick: () => {\n        history.push(`/users/named/${request.otherUser.username}`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, request.otherUser.username))), status === \"accepted\" ? /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, \"Friend Code: \", request.otherUser.contact) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, type === \"pending-exchange\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-group btn-group-sm\",\n      role: \"group\",\n      \"aria-label\": \"Basic example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.respond(\"accepted\"),\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"Accept Trade Request\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.respond(\"declined\"),\n      className: \"btn btn-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"Decline Trade Request\")) : null)));\n  }\n\n}\n\nexport default RequestCard;","map":{"version":3,"sources":["/Users/samzandi/Desktop/flatiron/projects/mod4/animal-swapping-frontend/src/components/RequestCard.js"],"names":["React","RequestCard","Component","respond","response","request","props","token","localStorage","getItem","reqObj","method","headers","body","JSON","stringify","status","otherUserId","otherUser","id","itemId","item","fetch","then","json","data","error","alert","acceptTrade","declineTrade","render","type","history","split","marginLeft","marginRight","backgroundColor","width","name","img","push","username","contact"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass RequestCard extends React.Component {\n\n\n  respond = (response) => {\n    const { request } = this.props\n    const token = localStorage.getItem(\"token\")\n\n    const reqObj = {\n      method: \"PATCH\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n          status: response,\n          otherUserId: request.otherUser.id,\n          itemId: request.item.id\n      })\n    \n    }\n    \n    fetch(`https://animal-swapping-api.herokuapp.com/requests/${request.id}`, reqObj)\n      .then(response => response.json())\n      .then(data =>  {\n            if (data.error){\n                alert(data.error)\n            } else if (response === \"accepted\"){\n              this.props.acceptTrade(request)\n            } else if ( response === \"declined\"){\n                this.props.declineTrade(request.id)\n            }\n      });\n  }\n\n  \n  \n\n  render() {\n    const { request, type, history } = this.props\n    const status = type.split(\"-\")[0]\n    return (\n    <div style={{marginLeft: \"10px\" , marginRight: \"10px\"}}>\n      <div className=\"card card-inverse card-success card-primary mb-3 text-center\" style={{backgroundColor: 'grey', width: '332px'}}>\n        <div className=\"card-block\">\n          <blockquote className=\"card-blockItem\">\n            <h3>{request.item.name}</h3>\n            <img src={request.item.img} alt=\"https://steamuserimages-a.akamaihd.net/ugc/901148415702899948/766B8EF2FEF58C28F33B79D61AB9F1F39F63C95D/\" />\n            <h2 onClick={() => {history.push(`/users/named/${request.otherUser.username}`)}}>{request.otherUser.username}</h2>\n          </blockquote>\n        </div>\n        {status === \"accepted\" ? \n        <h2>Friend Code: {request.otherUser.contact}</h2> : \n        null }\n        <div className=\"float-right\"> \n            {type === \"pending-exchange\" ? <div className=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"Basic example\">\n                <button \n                type=\"button\" \n                onClick={() => this.respond(\"accepted\")} \n                className=\"btn btn-primary\"\n                >\n                Accept Trade Request\n                </button>\n                <button \n                type=\"button\" \n                onClick={() => this.respond(\"declined\")} \n                className=\"btn btn-secondary\"\n                >\n                Decline Trade Request\n                </button>\n            </div> : null }\n        </div>\n      </div>\n    </div>)\n  }\n}\n\nexport default RequestCard"]},"metadata":{},"sourceType":"module"}